<!-- Debug info -->
<div style="background: #ffe6e6; padding: 10px; margin: 10px 0; border: 1px solid #ff9999;">
  <strong>Debug Info:</strong><br>
  Dataset name: {{ pkg.name }}<br>
  Dataset ID: {{ pkg.id }}<br>
  Raw tracking data count: {{ h.get_dataset_views_by_name(pkg.name).total_views }}<br>
  Helper function result: {{ h.get_dataset_views_by_name(pkg.name) }}<br>
</div>

{% set tracking_data = h.get_dataset_views_by_name(pkg.name) %}
{% if tracking_data.total_views > 0 %}
<div class="tracking-info"
  style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 4px; border-left: 4px solid #007cba;">
  <div class="row">
    <div class="col-md-4">
      <strong><i class="fa fa-eye"></i> Total Views:</strong>
      <span class="tracking-total-views">{{ tracking_data.total_views }}</span>
    </div>
    <div class="col-md-4">
      <strong><i class="fa fa-clock-o"></i> Recent Views (7 days):</strong>
      <span class="tracking-recent-views">{{ tracking_data.recent_views }}</span>
    </div>
    <div class="col-md-4">
      <strong><i class="fa fa-calendar-day"></i> Today's Views:</strong>
      <span class="tracking-today-views">{{ tracking_data.today_views }}</span>
    </div>
  </div>
</div>
{% else %}
<div class="tracking-info"
  style="margin: 10px 0; padding: 10px; background: #f8f9fa; border-radius: 4px; border-left: 4px solid #ffc107;">
  <div class="row">
    <div class="col-md-12">
      <p class="text-muted mb-0"><i class="fa fa-info-circle"></i> No tracking data available yet.</p>
    </div>
  </div>
</div>
{% endif %}